{% extends 'dashboard.html' %}

{% block title %}
<title>My Feedback</title>
{% endblock %}

{% block content %}
<style>
    .table{
        background-color: #0B60B0;
    }
</style>
<div class="container mt-5">
    <div class="col">
        <div class="box" style="float: right;"> 
            <div class="box1"> 
                <div class="box2"> 
                    <div class="box3"> 
                        <div class="details"> 
                            <div class="name"> 
                                FeedBack 
                            </div> 
                            <div class="coursename"> 
                                This page displays all Sent feedbacks.<br>
                                You can view the subject, detailed feedback, any attached files, and check the approval and review status for each feedback entry.
                            </div> 
                        </div> 
                    </div> 
                </div> 
            </div> 
            <div class="text11"> 
                <a class="icon"> 
                    <div class="layer"> 
                        <span></span> 
                        <span></span> 
                        <span></span> 
                        <span></span> 
                        <span></span> 
                        <span></span> 
                        <span></span> 
                        <span></span> 
                        <span style="background-color: rgb(151, 179, 234); text-align: center;">
                            i
                        </span> 
                    </div> 
                </a> 
            </div>
        </div>
    </div>

    <h2 class="text-center mb-4">My Feedback</h2>
    {% if feedbacks %}
    <table class="table table-dark table-hover text-light">
        <thead>
            <tr>
                <th>Subject</th>
                <th>Feedback</th>
                <th>File</th>
                <th>Approved</th>
                <th>Reviewed</th>
            </tr>
        </thead>
        <tbody>
            {% for feedback in feedbacks %}
                <tr>
                    <td>{{ feedback.subject }}</td>
                    <td>{{ feedback.feedback }}</td>
                    <td>
                        {% if feedback.file %}
                            <a href="{{ feedback.file.url }}" target="_blank">View File</a>
                        {% else %}
                            No File Attached
                        {% endif %}
                    </td>
                    <td>
                        {% if feedback.approved %}
                            <i class="fas fa-check-circle" style="color: green;"></i>
                        {% endif %}
                    </td>
                    <td>
                        {% if feedback.reviewed %}
                            <i class="fas fa-check-circle" style="color: green;"></i>
                        {% endif %}
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p class="text-center">You have not submitted any feedback yet.</p>
    {% endif %}
</div>
{% endblock %}



