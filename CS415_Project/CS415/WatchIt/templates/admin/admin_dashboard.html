{% extends "admin/base_site.html" %}

{% load static %}

{% block extrastyle %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
body {
    font-family: 'Arial', sans-serif;

}

    

ul {
    list-style: none;
  }


#sidebar {
    min-height: 100vh;
    background-color: #343a40;
    color: #fff;
    padding-top: 20px;
}

#sidebar .widget {
    margin-bottom: 1.5rem;
}

#sidebar .nav-link {
    color: #fff;
    font-size: 18px;
    padding: 15px 20px;
    transition: background-color 0.3s, color 0.3s;
}

#sidebar .nav-link.active {
    background-color: #495057;
    color: #fff;
    font-weight: bold;
}

#sidebar .nav-link:hover {
    background-color: #495057;
    color: #fff;
}

.admin-dashboard {


    background: black;

    max-width: 1200px;
    margin: auto;
    padding: 20px;
    background-color: #fff;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}

.dashboard-widgets {
    display: flex;
    flex-wrap: wrap;
}

.widget {
    background: #f9f9f9;
    border: 1px solid #e1e1e1;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

.widget h2 {
    color: #333;
    font-size: 20px;
    margin-bottom: 10px;
    text-align: center;
}

.widget p {
    font-size: 36px;
    text-align: center;
}

#minute-sales-chart, #minute-registrations-chart {
    height: 400px;
}

/* Highcharts specific styling */
.highcharts-figure, .highcharts-data-table table {
    min-width: 320px; 
    max-width: 800px;
    margin: 1em auto;
}

.highcharts-background {
    fill: #f9f9f9;
}

.highcharts-title {
    font-size: 18px;
    fill: #333;
}

.highcharts-subtitle {
    font-size: 15px;
    fill: #666;
}

#sidebar .widget h2, #sidebar .widget p {
    color: #fff;  /* Add this rule to make the text color white */
}

</style>
{% endblock %}

{% block content %}
<div class="container-fluid mt-5">
    <div class="row">
        <!-- Sidebar -->
        <nav id="sidebar" class="col-md-3 col-lg-2 d-md-block sidebar">
            <div class="position-sticky pt-3">
                <div class="widget p-4 shadow-sm bg-dark rounded mb-4 text-center text-white">
                    <h2 class="h5">Total Bookings</h2>
                    <p class="display-4">{{ total_bookings }}</p>
                </div>
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="{% url 'admin_dashboard_minute_sales' %}">
                            Minute-wise Sales
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'admin_dashboard_minute_registrations' %}">
                            Minute-wise User Registrations
                        </a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'booking_report_view' %}">
                            Generate Sales Report
                        </a>
                    </li>

                </ul>
            </div>
        </nav>

        <!-- Main content -->
        <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
            <div class="admin-dashboard mt-5">

                
                <h1 class="mb-4 text-dark">Admin Dashboard</h1>

                <div class="dashboard-widgets row g-4">
                    {% block dashboard_content %}
                    <!-- Placeholder for dynamic content based on URL -->
                    {% endblock %}
                </div>
            </div>
        </main>
    </div>
</div>
<script src="https://code.highcharts.com/highcharts.js"></script>
{% endblock %}
